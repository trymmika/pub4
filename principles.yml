# v3.8 — flat dict, direct access by id (pruned overlaps, restored from pub2/pub4)
principles:
  version: "3.8"

# Core
DRY: 
  essence: "Define once, reference everywhere"
  detect: "Duplication of concept, logic, or pattern"
  autofix: true
  severity: high

KISS:
  essence: "Simplest working solution"
  detect: "Complexity exceeds functionality"
  autofix: true
  severity: high
  warning: "Deleting important logic is not simplicity"

YAGNI:
  essence: "Build only proven requirements"
  detect: "Unused features or premature infrastructure"
  autofix: true
  severity: medium

CLARITY:
  essence: "Intent obvious without explanation"
  detect: "Hidden logic, magic values, misleading names"
  autofix: true
  severity: high

POLA:
  essence: "No surprises"
  detect: "Unconventional without justification"
  autofix: true
  severity: medium

HIERARCHY:
  essence: "Important first, details later"
  detect: "Critical buried, metadata before substance"
  autofix: true
  severity: medium
  validation: "80% value from first 20%?"

CONSISTENCY:
  essence: "Similar things look and behave similarly"
  detect: "Arbitrary variation or mixed patterns"
  autofix: true
  severity: medium

# SOLID
SRP:
  essence: "One reason to change per module"
  detect: "Mixed concerns or god objects"
  autofix: true
  severity: high

OCP:
  essence: "Extend without modifying existing"
  detect: "Core modification or switch on type"
  autofix: true
  severity: high

LSP:
  essence: "Subtypes fulfill parent contracts"
  detect: "Broken contracts or unexpected exceptions"
  autofix: true
  severity: high

ISP:
  essence: "Clients depend only on what they use"
  detect: "Fat interfaces or unnecessary dependencies"
  autofix: true
  severity: medium

DIP:
  essence: "High-level independent of low-level"
  detect: "Concrete dependencies or hardcoded implementations"
  autofix: true
  severity: medium

# Structure
COMPOSITION:
  essence: "Build from small, combinable parts"
  detect: "Inheritance overuse or monolithic design"
  autofix: true
  severity: medium

IMMUTABILITY:
  essence: "Data unchanged after creation"
  detect: "Mutable shared state"
  autofix: true
  severity: medium

DECOMPOSITION:
  essence: "Break complex into simple subproblems"
  detect: "Monolithic approach"
  autofix: true
  severity: medium

ABSTRACTION:
  essence: "Hide complexity behind simple interfaces"
  detect: "Exposed complexity, leaky abstractions"
  autofix: true
  severity: medium

# Cognitive
WORKING_MEMORY: 
  essence: "Respect 4±1 chunk limit"
  detect: "Information overload or no chunking"
  autofix: true
  severity: medium
  threshold: 5

HICKS_LAW:
  essence: "Decision time grows with options"
  detect: "Too many choices"
  autofix: true
  severity: medium
  threshold: 7

RECOGNITION_OVER_RECALL: 
  essence: "Show, don't make remember"
  detect: "Hidden options"
  autofix: true
  severity: medium

MENTAL_MODEL:
  essence: "Match user expectations"
  detect: "Counterintuitive interaction"
  autofix: true
  severity: medium

ERROR_PREVENTION:
  essence: "Design out mistakes"
  detect: "Error-prone design or destructive without confirmation"
  autofix: true
  severity: high

# Systems
FEEDBACK_LOOPS: 
  essence: "Measure outcomes, adjust based on results"
  detect: "Open-loop systems or no adaptation"
  autofix: true
  severity: medium

REDUNDANCY:
  essence: "Critical components have backups"
  detect: "Single points of failure"
  autofix: true
  severity: high

SYMBIOTIC:
  essence: "Elements support each other"
  detect: "Isolated components"
  autofix: true
  severity: low

# Meta
SELF_REFERENTIAL:
  essence: "Rules apply to themselves"
  detect: "Hypocrisy in principles"
  autofix: true
  severity: high

DENSITY:
  essence: "Every character earns its place"
  detect: "Decorative elements, redundant text, weak verbs"
  autofix: true
  severity: medium
  warning: "Don't compress to unreadability"

CONTEXT_AWARE:
  essence: "Principles as guides, not absolutes"
  detect: "Dogmatic application"
  autofix: true
  severity: medium

CONFLICT_RESOLUTION: 
  essence: "When principles conflict, choose by higher goal"
  detect: "Ignored tradeoffs"
  autofix: true
  severity: high

EVOLUTIONARY:
  essence: "Principles evolve based on evidence"
  detect: "Static dogma"
  autofix: true
  severity: medium

VALIDATION: 
  essence: "Test principles through application"
  detect: "Unproven assumptions"
  autofix: true
  severity: medium

PRAGMATIC:
  essence: "Catch more, fix more"
  detect: "Any deviation from ideal"
  autofix: true
  severity: low
  philosophy: "Better 10 fixes with 8 good than miss 2 critical"

# Structural Ops
DEFRAGMENT:
  essence: "Collocate scattered related concepts"
  detect: "Related items far apart"
  autofix: true
  severity: medium

HOIST:
  essence: "Promote buried universals to visible level"
  detect: "Deeply nested important values"
  autofix: true
  severity: medium

MERGE:
  essence: "Consolidate duplicate sections"
  detect: "Duplicate or overlapping content"
  autofix: true
  severity: medium

REFLOW: 
  essence: "Important first, details later"
  detect: "Improper importance order"
  autofix: true
  severity: medium

FLATTEN:
  essence: "Reduce excessive nesting"
  detect: "Nesting depth > 3"
  autofix: true
  severity: medium
  threshold: 3

SMOOTH:
  essence: "Optimize information flow"
  detect: "Suboptimal reading flow"
  autofix: true
  severity: low
  optimizes: ["reading_order", "cognitive_load", "semantic_grouping", "spoken_clarity"]

TEXT_TO_SPEECH:
  essence: "Optimize for spoken clarity"
  detect: "Poor spoken clarity"
  autofix: true
  severity: low
  rules: ["Avoid homographs", "Break long sentences", "Mark acronym pronunciation", "Numbers read clearly"]

# Design (Rams)
INNOVATIVE:
  essence: "Derivative without improvement is waste"
  detect: "Copy without adding value"
  autofix: true
  severity: low

USEFUL:
  essence: "Form follows function"
  detect: "Ornament over utility"
  autofix: true
  severity: medium

AESTHETIC:
  essence: "Ugly needs justification"
  detect: "Ugly without functional reason"
  autofix: true
  severity: low

UNDERSTANDABLE:
  essence: "Confusion is failure"
  detect: "Confusing interface or flow"
  autofix: true
  severity: medium

UNOBTRUSIVE:
  essence: "Don't demand attention"
  detect: "Attention-seeking elements"
  autofix: true
  severity: low

HONEST:
  essence: "No deception"
  detect: "Misleading or deceptive patterns"
  autofix: true
  severity: high

LASTING:
  essence: "Trends fade, foundations remain"
  detect: "Trend-chasing over timeless"
  autofix: true
  severity: low

THOROUGH:
  essence: "Rough edges matter"
  detect: "Incomplete or unpolished"
  autofix: true
  severity: medium

SUSTAINABLE:
  essence: "Waste is debt"
  detect: "Wasteful resources"
  autofix: true
  severity: medium

MINIMAL_DESIGN:
  essence: "As little design as possible"
  detect: "Overdesign"
  autofix: true
  severity: medium

# Brutalism
BRUTALISM_VOID:
  essence: "70% negative space minimum"
  detect: "Insufficient whitespace"
  autofix: true
  severity: low
  ratio: 0.70

BRUTALISM_FORBIDDEN:
  essence: "No decoration"
  detect: "Shadows, gradients, rounded corners, decorative animations"
  autofix: true
  severity: low
  forbidden: ["shadows", "gradients", "rounded_corners", "decorative_animations"]

BRUTALISM_REQUIRED:
  essence: "Function, raw materials, honesty, legibility"
  detect: "Violation of brutalist requirements"
  autofix: true
  severity: low
  required: ["function_over_form", "raw_materials", "honesty", "legibility"]

# Unix
UNIX_ONE_THING:
  essence: "Do one thing well"
  detect: "Module doing multiple unrelated things"
  autofix: true
  severity: medium

UNIX_COMPOSITION:
  essence: "Combine simple programs"
  detect: "Monolithic over composable"
  autofix: true
  severity: medium

UNIX_TEXT: 
  essence: "Text as universal interface"
  detect: "Binary or proprietary without justification"
  autofix: true
  severity: low

UNIX_PRIORITY:
  essence: "Simple, clear, correct — in that order"
  detect: "Wrong priority order"
  autofix: true
  severity: medium
  order: ["simple", "clear", "correct"]