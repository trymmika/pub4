# GitHub CLI patterns â€” agents use gh, never raw API calls

operations:
  - action: "create_pr"
    pattern: "gh pr create --title '${title}' --body '${body}' --base main"
  - action: "merge_pr"
    pattern: "gh pr merge ${number} --squash --delete-branch"
  - action: "create_issue"
    pattern: "gh issue create --title '${title}' --body '${body}' --label '${labels}'"
  - action: "close_issue"
    pattern: "gh issue close ${number} --reason completed"
  - action: "list_workflows"
    pattern: "gh run list --workflow=${workflow} --limit 5"
  - action: "trigger_workflow"
    pattern: "gh workflow run ${workflow} --ref ${branch}"
  - action: "review_pr"
    pattern: "gh pr review ${number} --approve --body '${comment}'"
  - action: "check_status"
    pattern: "gh pr checks ${number} --watch"
  - action: "clone_repo"
    pattern: "gh repo clone ${owner}/${repo}"
  - action: "fork_repo"
    pattern: "gh repo fork ${owner}/${repo} --clone"
  - action: "api_call"
    pattern: "gh api ${endpoint}"

forbidden:
  - command: "curl api.github.com"
    replacement: "gh api"
  - command: "curl github.com/api"
    replacement: "gh api"
  - command: "git push origin"
    replacement: "gh pr create (let GitHub handle the remote)"
  - command: "hub"
    replacement: "gh (hub is deprecated)"
