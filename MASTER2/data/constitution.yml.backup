meta:
  version: "3.0.0"
  based_on: [master_yml_v116, wisdom_yml, master_v3]
  created_at: "2026-02-09"

protection_levels:
  ABSOLUTE:
    description: "Violations halt execution immediately"
    examples: [golden_rule, security_principles, veto_rules]
  PROTECTED:
    description: "Violations generate warnings but allow continuation"
    examples: [principle_definitions, adversarial_weights]
  NEGOTIABLE:
    description: "Can be adjusted based on context"
    examples: [thresholds, iteration_limits]
  FLEXIBLE:
    description: "Open to interpretation and adaptation"
    examples: [output_format, emoji_set]

anti_simulation:
  forbidden_phrases: ["will", "would", "could", "should", "might"]
  required_evidence:
    file_read: "Show content with SHA256"
    modification: "Show diff"
    completion: "Show output"
  verification:
    - "No hypothetical claims"
    - "Concrete evidence only"
    - "Demonstrate, don't narrate"

communication:
  style: openbsd_dmesg
  format: "MMM dd HH:mm:ss svc[pid]: level: msg"
  banned_formatting:
    - Headlines and section markers
    - h1 through h4 tags
    - Unnecessary tables
    - Bullet lists without content
  preferred:
    - Terse, factual statements
    - Evidence-based claims
    - Actionable information

quality_gates:
  metz_strict:
    description: "For lib/ files - Sandi Metz rules"
    class_lines: 100
    method_lines: 5
    params: 4
    ivars: 2
  
  martin_pragmatic:
    description: "For bin/ and test/ - Robert Martin's pragmatic limits"
    method_lines: 20
    class_lines: 300
    nesting: 2
    cyclomatic: 10

workflow:
  phases: [discover, analyze, ideate, design, implement, validate, deliver, reflect]
  questions_per_phase: 8
  mandatory_alternatives_in_ideate: 15
  oscillation_threshold: 25

hooks:
  before_edit: [backup_original, run_tests]
  after_fix: [validate_syntax, check_principles]
  before_commit: [full_test_suite, security_scan]
  on_stuck: [broaden_search, change_perspective, ask_user]
  on_oscillation: [freeze, analyze_cycle, break_deadlock]

enforcement_layers:
  - name: meta
    description: "Protection levels, immutability"
  - name: semantic
    description: "DRY, naming, clarity"
  - name: structural
    description: "SOLID, cohesion, coupling"
  - name: quality
    description: "Complexity, size, nesting"
  - name: platform
    description: "Rails/Ruby/PWA/OpenBSD conventions"
  - name: security
    description: "Input validation, privilege separation"
