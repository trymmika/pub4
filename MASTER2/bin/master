#!/usr/bin/env ruby
# frozen_string_literal: true

begin
  require "dotenv/load"
rescue LoadError
  # dotenv not available
end

require_relative "../lib/master"

# Setup database
MASTER::DB.setup

# Configure LLM
MASTER::LLM.configure

# Determine mode
if ARGV.include?("--pipe")
  MASTER::Pipeline.pipe
else
  MASTER::Pipeline.repl
end
