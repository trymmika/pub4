---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/us.anthropic.claude-sonnet-4-20250514-v1:0/converse
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"user","content":[{"text":"What''s the weather
        in Berlin (52.5200, 13.4050) and what''s the best language to learn?"}]}],"inferenceConfig":{},"toolConfig":{"tools":[{"toolSpec":{"name":"weather","description":"Gets
        current weather for a location","inputSchema":{"json":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}},{"toolSpec":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","inputSchema":{"json":{"type":"object","properties":{},"required":[]}}}}]}}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      X-Amz-Date:
      - 20260210T092330Z
      X-Amz-Content-Sha256:
      - 4fdd93af42bf8cc9794539f4666ced892cc54f5ba5ac8b06464c34eb40396d00
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20260210/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=21fbd22183eb9c64407f58b724e6b794adb58bbd7f5178d2c5318fe3a38b535a
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 09:23:33 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '671'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - fc6cec62-8e31-4077-9ebe-b2a3404a024a
    body:
      encoding: UTF-8
      string: '{"metrics":{"latencyMs":2342},"output":{"message":{"content":[{"text":"I''ll
        help you get the current weather in Berlin and find out the best language
        to learn."},{"toolUse":{"input":{"latitude":"52.5200","longitude":"13.4050"},"name":"weather","toolUseId":"tooluse_G0kv5AnKfbQHaL9wevN5F9","type":"tool_use"}},{"toolUse":{"input":{},"name":"best_language_to_learn","toolUseId":"tooluse_tbXz7pPtF9qG0100DooIQR","type":"tool_use"}}],"role":"assistant"}},"stopReason":"tool_use","usage":{"cacheReadInputTokenCount":0,"cacheReadInputTokens":0,"cacheWriteInputTokenCount":0,"cacheWriteInputTokens":0,"inputTokens":506,"outputTokens":117,"serverToolUsage":{},"totalTokens":623}}'
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/us.anthropic.claude-sonnet-4-20250514-v1:0/converse
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"user","content":[{"text":"What''s the weather
        in Berlin (52.5200, 13.4050) and what''s the best language to learn?"}]},{"role":"assistant","content":[{"text":"I''ll
        help you get the current weather in Berlin and find out the best language
        to learn."},{"toolUse":{"toolUseId":"tooluse_G0kv5AnKfbQHaL9wevN5F9","name":"weather","input":{"latitude":"52.5200","longitude":"13.4050"}}},{"toolUse":{"toolUseId":"tooluse_tbXz7pPtF9qG0100DooIQR","name":"best_language_to_learn","input":{}}}]},{"role":"user","content":[{"toolResult":{"toolUseId":"tooluse_G0kv5AnKfbQHaL9wevN5F9","content":[{"text":"Current
        weather at 52.5200, 13.4050: 15Â°C, Wind: 10 km/h"}]}},{"toolResult":{"toolUseId":"tooluse_tbXz7pPtF9qG0100DooIQR","content":[{"text":"Ruby"}]}}]}],"inferenceConfig":{},"toolConfig":{"tools":[{"toolSpec":{"name":"weather","description":"Gets
        current weather for a location","inputSchema":{"json":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}},{"toolSpec":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","inputSchema":{"json":{"type":"object","properties":{},"required":[]}}}}]}}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      X-Amz-Date:
      - 20260210T092333Z
      X-Amz-Content-Sha256:
      - 419fbc8b2d8d7fa483bb92081f25232f6db1cd6d72976fe1eaf9d4b029b7079c
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20260210/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=4cc7be07a7d3643791caae48efb48942db50880d7092bebf323707699889703a
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 09:23:36 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '742'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 3bff08b9-02f8-4f3c-b912-add18abaa2e9
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJtZXRyaWNzIjp7ImxhdGVuY3lNcyI6MTcyMn0sIm91dHB1dCI6eyJtZXNzYWdlIjp7ImNvbnRlbnQiOlt7InRleHQiOiJIZXJlJ3MgdGhlIGluZm9ybWF0aW9uIHlvdSByZXF1ZXN0ZWQ6XG5cbioqV2VhdGhlciBpbiBCZXJsaW4gKDUyLjUyMDAsIDEzLjQwNTApOioqXG4tIFRlbXBlcmF0dXJlOiAxNcKwQ1xuLSBXaW5kOiAxMCBrbS9oXG5cbioqQmVzdCBsYW5ndWFnZSB0byBsZWFybjoqKlxuUnVieVxuXG5UaGUgd2VhdGhlciBpbiBCZXJsaW4gaXMgcXVpdGUgcGxlYXNhbnQgYXQgMTXCsEMgd2l0aCBhIG1vZGVyYXRlIHdpbmQgc3BlZWQuIEFzIGZvciBsZWFybmluZyBhIG5ldyBsYW5ndWFnZSwgUnVieSBpcyByZWNvbW1lbmRlZCAtIGl0J3MgYSBwcm9ncmFtbWluZyBsYW5ndWFnZSBrbm93biBmb3IgaXRzIHNpbXBsaWNpdHkgYW5kIHJlYWRhYmlsaXR5LCBtYWtpbmcgaXQgZ3JlYXQgZm9yIGJlZ2lubmVycyBhbmQgZXhwZXJpZW5jZWQgZGV2ZWxvcGVycyBhbGlrZSEifV0sInJvbGUiOiJhc3Npc3RhbnQifX0sInN0b3BSZWFzb24iOiJlbmRfdHVybiIsInVzYWdlIjp7ImNhY2hlUmVhZElucHV0VG9rZW5Db3VudCI6MCwiY2FjaGVSZWFkSW5wdXRUb2tlbnMiOjAsImNhY2hlV3JpdGVJbnB1dFRva2VuQ291bnQiOjAsImNhY2hlV3JpdGVJbnB1dFRva2VucyI6MCwiaW5wdXRUb2tlbnMiOjcxNywib3V0cHV0VG9rZW5zIjoxMTAsInNlcnZlclRvb2xVc2FnZSI6e30sInRvdGFsVG9rZW5zIjo4Mjd9fQ==
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
recorded_with: VCR 6.4.0
