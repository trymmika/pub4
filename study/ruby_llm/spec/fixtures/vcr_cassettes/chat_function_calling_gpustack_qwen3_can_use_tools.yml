---
http_interactions:
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin? (52.5200, 13.4050)"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 15:51:33 GMT
      Server:
      - istio-envoy
      Content-Type:
      - application/json; charset=utf-8
      Access-Control-Allow-Origin:
      - ''
      Req-Cost-Time:
      - '19879'
      Req-Arrive-Time:
      - '1770738693607'
      Resp-Start-Time:
      - '1770738713487'
      X-Envoy-Upstream-Service-Time:
      - '19833'
      Vary:
      - Accept-Encoding
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: '{"choices":[{"finish_reason":"tool_calls","index":0,"message":{"role":"assistant","content":"","reasoning_content":"Okay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user has already
        given those values, so I should format them into the tool call correctly.
        I''ll make sure to use the exact parameter names and convert the numbers to
        strings. No other parameters are needed since the function doesn''t have any
        other required fields. Alright, the tool call should be straightforward.","tool_calls":[{"type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}"},"id":"TBhlTmQoJy4FQiJA3r0mTRfODjW2CbbV"}]}}],"created":1770738713,"model":"qwen3","system_fingerprint":"b7981-98e57ca42","object":"chat.completion","usage":{"completion_tokens":171,"prompt_tokens":231,"total_tokens":402,"time_to_first_token_ms":19880,"time_per_output_token_ms":0,"tokens_per_second":0},"id":"chatcmpl-WSAgL6osOirEqKniJlT91RBco5mI471c","timings":{"cache_n":3,"prompt_n":228,"prompt_ms":4615.025,"prompt_per_token_ms":20.241337719298244,"prompt_per_second":49.40384938326445,"predicted_n":171,"predicted_ms":15165.735,"predicted_per_token_ms":88.68850877192983,"predicted_per_second":11.275417907539595}}'
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin? (52.5200, 13.4050)"},{"role":"assistant","content":"","tool_calls":[{"id":"TBhlTmQoJy4FQiJA3r0mTRfODjW2CbbV","type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}"}}],"reasoning":"Okay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user has already
        given those values, so I should format them into the tool call correctly.
        I''ll make sure to use the exact parameter names and convert the numbers to
        strings. No other parameters are needed since the function doesn''t have any
        other required fields. Alright, the tool call should be straightforward.","reasoning_content":"Okay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user has already
        given those values, so I should format them into the tool call correctly.
        I''ll make sure to use the exact parameter names and convert the numbers to
        strings. No other parameters are needed since the function doesn''t have any
        other required fields. Alright, the tool call should be straightforward."},{"role":"tool","content":"Current
        weather at 52.5200, 13.4050: 15Â°C, Wind: 10 km/h","tool_call_id":"TBhlTmQoJy4FQiJA3r0mTRfODjW2CbbV"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 15:51:53 GMT
      Server:
      - istio-envoy
      Content-Type:
      - application/json; charset=utf-8
      Access-Control-Allow-Origin:
      - ''
      Req-Cost-Time:
      - '18252'
      Req-Arrive-Time:
      - '1770738713497'
      Resp-Start-Time:
      - '1770738731749'
      X-Envoy-Upstream-Service-Time:
      - '18247'
      Vary:
      - Accept-Encoding
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJjaG9pY2VzIjpbeyJmaW5pc2hfcmVhc29uIjoic3RvcCIsImluZGV4IjowLCJtZXNzYWdlIjp7InJvbGUiOiJhc3Npc3RhbnQiLCJjb250ZW50IjoiVGhlIGN1cnJlbnQgd2VhdGhlciBpbiBCZXJsaW4gKDUyLjUyMDAsIDEzLjQwNTApIGlzICoqMTXCsEMqKiB3aXRoIGEgd2luZCBzcGVlZCBvZiAqKjEwIGttL2gqKi4gVGhlIHdlYXRoZXIgYXBwZWFycyBtaWxkIGFuZCBjb21mb3J0YWJsZSEg8J+MpO+4jyIsInJlYXNvbmluZ19jb250ZW50IjoiT2theSwgdGhlIHVzZXIgYXNrZWQgZm9yIHRoZSB3ZWF0aGVyIGluIEJlcmxpbiB3aXRoIHRoZSBjb29yZGluYXRlcyBwcm92aWRlZC4gSSBjYWxsZWQgdGhlIHdlYXRoZXIgZnVuY3Rpb24gd2l0aCB0aG9zZSBjb29yZGluYXRlcyBhbmQgZ290IHRoZSByZXNwb25zZTogMTXCsEMsIFdpbmQ6IDEwIGttL2guIE5vdyBJIG5lZWQgdG8gcHJlc2VudCB0aGlzIGluZm9ybWF0aW9uIGNsZWFybHkuIExldCBtZSBzdGFydCBieSBzdGF0aW5nIHRoZSBjdXJyZW50IHdlYXRoZXIgaW4gQmVybGluLiBJIHNob3VsZCBtZW50aW9uIHRoZSB0ZW1wZXJhdHVyZSBmaXJzdCwgdGhlbiB0aGUgd2luZCBzcGVlZC4gS2VlcCBpdCBjb25jaXNlIGFuZCBmcmllbmRseS4gTWFrZSBzdXJlIHRvIGZvcm1hdCB0aGUgbnVtYmVycyBjb3JyZWN0bHksIHVzaW5nIHRoZSBkZWdyZWUgc3ltYm9sIGFuZCBzcGVjaWZ5aW5nIHRoZSB1bml0cy4gQWxzbywgbWF5YmUgYWRkIGEgbm90ZSBhYm91dCB0aGUgd2VhdGhlciBiZWluZyBtaWxkIG9yIGNvbWZvcnRhYmxlIGJhc2VkIG9uIHRoZSB0ZW1wZXJhdHVyZS4gQWxyaWdodCwgdGhhdCBzaG91bGQgY292ZXIgaXQuIn19XSwiY3JlYXRlZCI6MTc3MDczODczMSwibW9kZWwiOiJxd2VuMyIsInN5c3RlbV9maW5nZXJwcmludCI6ImI3OTgxLTk4ZTU3Y2E0MiIsIm9iamVjdCI6ImNoYXQuY29tcGxldGlvbiIsInVzYWdlIjp7ImNvbXBsZXRpb25fdG9rZW5zIjoxNzgsInByb21wdF90b2tlbnMiOjQ0NSwidG90YWxfdG9rZW5zIjo2MjMsInRpbWVfdG9fZmlyc3RfdG9rZW5fbXMiOjE4MjUyLCJ0aW1lX3Blcl9vdXRwdXRfdG9rZW5fbXMiOjAsInRva2Vuc19wZXJfc2Vjb25kIjowfSwiaWQiOiJjaGF0Y21wbC1iOEtxM1pya1BxT0l5QXZialRaMElRdG9xUnBxTlBPQyIsInRpbWluZ3MiOnsiY2FjaGVfbiI6Mzc4LCJwcm9tcHRfbiI6NjcsInByb21wdF9tcyI6MTU1MS42ODMsInByb21wdF9wZXJfdG9rZW5fbXMiOjIzLjE1OTQ0Nzc2MTE5NDAzLCJwcm9tcHRfcGVyX3NlY29uZCI6NDMuMTc4OTIyNDk4OTg5ODA2LCJwcmVkaWN0ZWRfbiI6MTc4LCJwcmVkaWN0ZWRfbXMiOjE2NjgwLjUwOSwicHJlZGljdGVkX3Blcl90b2tlbl9tcyI6OTMuNzEwNzI0NzE5MTAxMTEsInByZWRpY3RlZF9wZXJfc2Vjb25kIjoxMC42NzExMzcxOTM3MTUxMzN9fQ==
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
recorded_with: VCR 6.4.0
