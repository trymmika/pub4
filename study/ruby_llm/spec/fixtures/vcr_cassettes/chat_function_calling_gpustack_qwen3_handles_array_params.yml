---
http_interactions:
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"Call the array
        params tool with tags [\"red\",\"blue\"] and tell me the combined tags."}],"stream":false,"tools":[{"type":"function","function":{"name":"array_params","description":"Uses
        params DSL array support","parameters":{"type":"object","properties":{"tags":{"type":"array","description":"List
        of tags to combine","items":{"type":"string"}}},"required":["tags"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 15:53:23 GMT
      Server:
      - istio-envoy
      Content-Type:
      - application/json; charset=utf-8
      Access-Control-Allow-Origin:
      - ''
      Req-Cost-Time:
      - '21774'
      Req-Arrive-Time:
      - '1770738803844'
      Resp-Start-Time:
      - '1770738825618'
      X-Envoy-Upstream-Service-Time:
      - '21770'
      Vary:
      - Accept-Encoding
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: '{"choices":[{"finish_reason":"tool_calls","index":0,"message":{"role":"assistant","content":"","reasoning_content":"Okay,
        the user wants me to call the array_params tool with the tags [\"red\", \"blue\"]
        and then report the combined tags. Let me check the function definition. The
        function array_params takes an array of strings called tags. The parameters
        require the tags to be an array, and it''s strict, so I need to make sure
        the input is exactly that.\n\nThe user provided the tags as a list, so I can
        directly use that. The function''s purpose is to combine the tags, so when
        I call it with [\"red\", \"blue\"], the response should return those combined.
        I need to structure the tool call correctly. The function name is array_params,
        and the arguments should be a JSON object with \"tags\" as the key and the
        array as the value. Let me make sure the JSON is properly formatted. No other
        parameters are needed since the function only requires tags. Alright, that''s
        all.","tool_calls":[{"type":"function","function":{"name":"array_params","arguments":"{\"tags\":[\"red\",\"blue\"]}"},"id":"1xBgHAmGlzquBQutW6aXFqKrKnPgHFtA"}]}}],"created":1770738825,"model":"qwen3","system_fingerprint":"b7981-98e57ca42","object":"chat.completion","usage":{"completion_tokens":213,"prompt_tokens":194,"total_tokens":407,"time_to_first_token_ms":21774,"time_per_output_token_ms":0,"tokens_per_second":0},"id":"chatcmpl-n5BQmE917hSg8SPKDBwNlpdv8BW4YlgM","timings":{"cache_n":51,"prompt_n":143,"prompt_ms":2925.797,"prompt_per_token_ms":20.46011888111888,"prompt_per_second":48.87557134004854,"predicted_n":213,"predicted_ms":18812.804,"predicted_per_token_ms":88.3230234741784,"predicted_per_second":11.322076177479977}}'
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
recorded_with: VCR 6.4.0
