---
http_interactions:
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        best language to learn?"}],"stream":false,"tools":[{"type":"function","function":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","parameters":{"type":"object","properties":{},"required":[],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 15:52:55 GMT
      Server:
      - istio-envoy
      Content-Type:
      - application/json; charset=utf-8
      Access-Control-Allow-Origin:
      - ''
      Req-Cost-Time:
      - '18558'
      Req-Arrive-Time:
      - '1770738775751'
      Resp-Start-Time:
      - '1770738794310'
      X-Envoy-Upstream-Service-Time:
      - '18552'
      Vary:
      - Accept-Encoding
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: '{"choices":[{"finish_reason":"tool_calls","index":0,"message":{"role":"assistant","content":"","reasoning_content":"Okay,
        the user is asking, \"What''s the best language to learn?\" I need to figure
        out which function to use here. Let me check the tools provided.\n\nLooking
        at the tools section, there''s a function called best_language_to_learn. Its
        description says it gets the best language to learn, and it doesn''t require
        any parameters. So, the user''s question directly matches this function. \n\nSince
        the function doesn''t need any arguments, I should call it without any parameters.
        The user probably wants a straightforward answer, so invoking this function
        makes sense. I don''t see any other functions available, so this is the right
        choice. \n\nI''ll generate the tool call with the function name and an empty
        arguments object as specified. No need for extra parameters here. Let me make
        sure the JSON is correctly formatted.","tool_calls":[{"type":"function","function":{"name":"best_language_to_learn","arguments":"{}"},"id":"cA0Er1w0jPwItvYqQ0Tdvse8NwHg8PWd"}]}}],"created":1770738794,"model":"qwen3","system_fingerprint":"b7981-98e57ca42","object":"chat.completion","usage":{"completion_tokens":187,"prompt_tokens":156,"total_tokens":343,"time_to_first_token_ms":18559,"time_per_output_token_ms":0,"tokens_per_second":0},"id":"chatcmpl-2VDVCNxWuMrYmK6rhNmS5MmJDDsENBhH","timings":{"cache_n":51,"prompt_n":105,"prompt_ms":2191.292,"prompt_per_token_ms":20.86944761904762,"prompt_per_second":47.9169366748019,"predicted_n":187,"predicted_ms":16316.301,"predicted_per_token_ms":87.25294652406417,"predicted_per_second":11.4609310039083}}'
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        best language to learn?"},{"role":"assistant","content":"","tool_calls":[{"id":"cA0Er1w0jPwItvYqQ0Tdvse8NwHg8PWd","type":"function","function":{"name":"best_language_to_learn","arguments":"{}"}}],"reasoning":"Okay,
        the user is asking, \"What''s the best language to learn?\" I need to figure
        out which function to use here. Let me check the tools provided.\n\nLooking
        at the tools section, there''s a function called best_language_to_learn. Its
        description says it gets the best language to learn, and it doesn''t require
        any parameters. So, the user''s question directly matches this function. \n\nSince
        the function doesn''t need any arguments, I should call it without any parameters.
        The user probably wants a straightforward answer, so invoking this function
        makes sense. I don''t see any other functions available, so this is the right
        choice. \n\nI''ll generate the tool call with the function name and an empty
        arguments object as specified. No need for extra parameters here. Let me make
        sure the JSON is correctly formatted.","reasoning_content":"Okay, the user
        is asking, \"What''s the best language to learn?\" I need to figure out which
        function to use here. Let me check the tools provided.\n\nLooking at the tools
        section, there''s a function called best_language_to_learn. Its description
        says it gets the best language to learn, and it doesn''t require any parameters.
        So, the user''s question directly matches this function. \n\nSince the function
        doesn''t need any arguments, I should call it without any parameters. The
        user probably wants a straightforward answer, so invoking this function makes
        sense. I don''t see any other functions available, so this is the right choice.
        \n\nI''ll generate the tool call with the function name and an empty arguments
        object as specified. No need for extra parameters here. Let me make sure the
        JSON is correctly formatted."},{"role":"tool","content":"Ruby","tool_call_id":"cA0Er1w0jPwItvYqQ0Tdvse8NwHg8PWd"}],"stream":false,"tools":[{"type":"function","function":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","parameters":{"type":"object","properties":{},"required":[],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 15:53:13 GMT
      Server:
      - istio-envoy
      Content-Type:
      - application/json; charset=utf-8
      Access-Control-Allow-Origin:
      - ''
      Req-Cost-Time:
      - '9489'
      Req-Arrive-Time:
      - '1770738794318'
      Resp-Start-Time:
      - '1770738803808'
      X-Envoy-Upstream-Service-Time:
      - '9484'
      Vary:
      - Accept-Encoding
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: '{"choices":[{"finish_reason":"stop","index":0,"message":{"role":"assistant","content":"The
        best language to learn is Ruby. It is known for its simplicity and productivity,
        making it a great choice for beginners and experienced developers alike. Ruby''s
        syntax is clean and easy to read, which helps in writing code that is both
        efficient and maintainable. Additionally, Ruby has a strong community support
        and is widely used in web development through frameworks like Ruby on Rails.
        Whether you''re just starting out or looking to expand your skills, Ruby offers
        a welcoming environment for learning and growth."}}],"created":1770738803,"model":"qwen3","system_fingerprint":"b7981-98e57ca42","object":"chat.completion","usage":{"completion_tokens":102,"prompt_tokens":357,"total_tokens":459,"tokens_per_second":0,"time_to_first_token_ms":9490,"time_per_output_token_ms":0},"id":"chatcmpl-KFkFpzEnpgYZHBSzC9F7aYb7DohsuxuS","timings":{"cache_n":342,"prompt_n":15,"prompt_ms":417.412,"prompt_per_token_ms":27.827466666666666,"prompt_per_second":35.93571818730655,"predicted_n":102,"predicted_ms":9049.935,"predicted_per_token_ms":88.72485294117647,"predicted_per_second":11.270799182535566}}'
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
recorded_with: VCR 6.4.0
