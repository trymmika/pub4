---
http_interactions:
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"Call the any-of
        params tool for task \"Review PR\" with status \"pending\" and report the
        result."}],"stream":false,"tools":[{"type":"function","function":{"name":"any_of_params","description":"Uses
        params DSL any_of support","parameters":{"type":"object","properties":{"task":{"type":"string","description":"Task
        description"},"status":{"description":"Optional task status","anyOf":[{"type":"string","enum":["pending","done"]},{"type":"null"}]}},"required":["task","status"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 15:53:44 GMT
      Server:
      - istio-envoy
      Content-Type:
      - application/json; charset=utf-8
      Access-Control-Allow-Origin:
      - ''
      Req-Cost-Time:
      - '20086'
      Req-Arrive-Time:
      - '1770738825642'
      Resp-Start-Time:
      - '1770738845729'
      X-Envoy-Upstream-Service-Time:
      - '20081'
      Vary:
      - Accept-Encoding
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: '{"choices":[{"finish_reason":"tool_calls","index":0,"message":{"role":"assistant","content":"","reasoning_content":"Okay,
        the user wants me to call the any_of_params function for a task called \"Review
        PR\" with status \"pending\". Let me check the function''s parameters. The
        function requires \"task\" and \"status\". The \"task\" is a string, and \"status\"
        can be either \"pending\", \"done\", or null. Since the user specified \"pending\",
        that''s valid. I need to structure the JSON arguments correctly. The task
        is \"Review PR\" and status is \"pending\". So the tool call should include
        these parameters. Let me make sure there are no additional properties allowed.
        The function has additionalProperties set to false, so only task and status
        are allowed. Alright, that''s all. I''ll format the tool call accordingly.","tool_calls":[{"type":"function","function":{"name":"any_of_params","arguments":"{\"task\":\"Review
        PR\",\"status\":\"pending\"}"},"id":"tcZsXphkGMVONqlqU6TtL5u45jZTQoD7"}]}}],"created":1770738845,"model":"qwen3","system_fingerprint":"b7981-98e57ca42","object":"chat.completion","usage":{"completion_tokens":184,"prompt_tokens":228,"total_tokens":412,"time_to_first_token_ms":20087,"time_per_output_token_ms":0,"tokens_per_second":0},"id":"chatcmpl-7tV4uGgo8PDJdoXWlEgSZ7CO2eJOF6ut","timings":{"cache_n":51,"prompt_n":177,"prompt_ms":3678.615,"prompt_per_token_ms":20.783135593220337,"prompt_per_second":48.115934937469675,"predicted_n":184,"predicted_ms":16344.031,"predicted_per_token_ms":88.82625543478261,"predicted_per_second":11.2579326360798}}'
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
recorded_with: VCR 6.4.0
