---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/us.amazon.nova-2-lite-v1:0/converse
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"user","content":[{"text":"What''s in this file?"},{"text":"<file
        name=''ruby.txt'' mime_type=''text/plain''>Ruby is the best.</file>"}]}],"inferenceConfig":{}}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      X-Amz-Date:
      - 20260210T084639Z
      X-Amz-Content-Sha256:
      - a9dbd69cf4c00854fe18d001865cc469f86660ff6143010b1e1cdb98ebedf358
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20260210/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=39d1918bf0c7367f11b230fb7b8ab8d47aaf661fa265ae4110d81879e34d610a
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 08:46:40 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '679'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 2c11597e-6aaf-42d5-a0d4-40b2a3a6300c
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJtZXRyaWNzIjp7ImxhdGVuY3lNcyI6MTA2NH0sIm91dHB1dCI6eyJtZXNzYWdlIjp7ImNvbnRlbnQiOlt7InRleHQiOiIjIyMgQ29udGVudHMgb2YgYHJ1YnkudHh0YFxuXG5UaGUgZmlsZSBgcnVieS50eHRgIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgcGxhaW4gdGV4dDpcblxuYGBgXG5SdWJ5IGlzIHRoZSBiZXN0LlxuYGBgXG5cbiMjIyMgQnJlYWtkb3duOlxuLSAqKkZpbGUgTmFtZSoqOiBgcnVieS50eHRgXG4tICoqTUlNRSBUeXBlKio6IGB0ZXh0L3BsYWluYCAoaW5kaWNhdGluZyBpdCdzIGEgc2ltcGxlIHRleHQgZmlsZSB3aXRoIG5vIGZvcm1hdHRpbmcpXG4tICoqQ29udGVudCoqOiBBIHNpbmdsZSBsaW5lIG9mIHRleHQgZXhwcmVzc2luZyBhIHBvc2l0aXZlIG9waW5pb24gYWJvdXQgdGhlIFJ1YnkgcHJvZ3JhbW1pbmcgbGFuZ3VhZ2UuXG5cblRoaXMgaXMgYSB2ZXJ5IGJyaWVmIGFuZCBzdHJhaWdodGZvcndhcmQgZmlsZSB3aXRoIG5vIGFkZGl0aW9uYWwgc3RydWN0dXJlLCBjb2RlLCBvciBkYXRh4oCUanVzdCBhIHBsYWluIHN0YXRlbWVudC4ifV0sInJvbGUiOiJhc3Npc3RhbnQifX0sInN0b3BSZWFzb24iOiJlbmRfdHVybiIsInVzYWdlIjp7ImlucHV0VG9rZW5zIjo3MSwib3V0cHV0VG9rZW5zIjoxMDYsInNlcnZlclRvb2xVc2FnZSI6e30sInRvdGFsVG9rZW5zIjoxNzd9fQ==
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/us.amazon.nova-2-lite-v1:0/converse
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"user","content":[{"text":"What''s in this file?"},{"text":"<file
        name=''ruby.txt'' mime_type=''text/plain''>Ruby is the best.</file>"}]},{"role":"assistant","content":[{"text":"###
        Contents of `ruby.txt`\n\nThe file `ruby.txt` contains the following plain
        text:\n\n```\nRuby is the best.\n```\n\n#### Breakdown:\n- **File Name**:
        `ruby.txt`\n- **MIME Type**: `text/plain` (indicating it''s a simple text
        file with no formatting)\n- **Content**: A single line of text expressing
        a positive opinion about the Ruby programming language.\n\nThis is a very
        brief and straightforward file with no additional structure, code, or dataâ€”just
        a plain statement."}]},{"role":"user","content":[{"text":"and in this one?"},{"text":"<file
        name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby is the best</truism></file>"}]}],"inferenceConfig":{}}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      X-Amz-Date:
      - 20260210T084640Z
      X-Amz-Content-Sha256:
      - 563b377503571c4e5bac1a5904b5d9ead62e7c50da9e9303a4345e2318cc73c5
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20260210/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=dc528ea57ed9fd6c96f77922d6942fd0a65c8e9816601eac85c63bd730400476
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 08:46:42 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '885'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 22f9d716-e4b2-4a05-8919-616667e89505
    body:
      encoding: UTF-8
      string: '{"metrics":{"latencyMs":1467},"output":{"message":{"content":[{"text":"###
        Contents of `ruby.xml`\n\nThe file `ruby.xml` contains the following XML structure:\n\n```xml\n<truism>Ruby
        is the best</truism>\n```\n\n#### Breakdown:\n- **File Name**: `ruby.xml`\n-
        **MIME Type**: `application/xml` (indicating it''s an XML document)\n- **Content**:\n  -
        The XML document consists of a single element `<truism>`.\n  - Inside this
        element, there is the text: `Ruby is the best`.\n\n##### Structure Explanation:\n1.
        **Root Element**: `<truism>`\n   - This is the only element in the XML document.\n   -
        It encapsulates the text `Ruby is the best`.\n\nThis XML file is minimal and
        conveys the same message as the `ruby.txt` file but in a structured XML format."}],"role":"assistant"}},"stopReason":"end_turn","usage":{"inputTokens":210,"outputTokens":166,"serverToolUsage":{},"totalTokens":376}}'
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
recorded_with: VCR 6.4.0
