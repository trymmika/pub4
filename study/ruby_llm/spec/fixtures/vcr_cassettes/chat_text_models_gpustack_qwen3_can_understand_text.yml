---
http_interactions:
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 15:32:47 GMT
      Server:
      - istio-envoy
      Content-Type:
      - application/json; charset=utf-8
      Access-Control-Allow-Origin:
      - ''
      Req-Cost-Time:
      - '24283'
      Req-Arrive-Time:
      - '1770737567798'
      Resp-Start-Time:
      - '1770737592082'
      X-Envoy-Upstream-Service-Time:
      - '24205'
      Vary:
      - Accept-Encoding
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: '{"choices":[{"finish_reason":"stop","index":0,"message":{"role":"assistant","content":"The
        file `ruby.txt` contains the plain text message:  \n**\"Ruby is the best.\"**  \n\nSince
        the MIME type is `text/plain`, there are no special formatting or encoding
        details beyond the simple sentence.","reasoning_content":"Okay, the user is
        asking what''s in the file named ''ruby.txt'' with the MIME type text/plain.
        The content provided is \"Ruby is the best.\" Let me break this down.\n\nFirst,
        MIME type text/plain indicates it''s a plain text file, so there''s no formatting
        or special characters to worry about. The file name is ruby.txt, which suggests
        it''s a simple text file. The content itself is straightforward: the sentence
        \"Ruby is the best.\" \n\nI need to confirm that there''s no hidden data or
        encoding issues. Since it''s plain text, it''s likely just that sentence.
        The user might be testing if I can read the file content correctly, or they
        might want to know if there''s more to the file. But based on the given information,
        the content is exactly as stated. \n\nI should also consider if there''s any
        context missing. For example, maybe the user is referring to a larger file
        or a specific use case. But with the given data, there''s no indication of
        that. The answer should be direct, stating the content of the file as provided."}}],"created":1770737592,"model":"qwen3","system_fingerprint":"b7981-98e57ca42","object":"chat.completion","usage":{"completion_tokens":272,"prompt_tokens":34,"total_tokens":306,"time_to_first_token_ms":24284,"time_per_output_token_ms":0,"tokens_per_second":271000},"id":"chatcmpl-2wiJoRZb8J6LLMNrrUzNiUqhBqwQKyhk","timings":{"cache_n":0,"prompt_n":34,"prompt_ms":1033.836,"prompt_per_token_ms":30.40694117647059,"prompt_per_second":32.88722776146314,"predicted_n":272,"predicted_ms":23161.127,"predicted_per_token_ms":85.15120220588236,"predicted_per_second":11.743815402419754}}'
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"The file `ruby.txt`
        contains the plain text message:  \n**\"Ruby is the best.\"**  \n\nSince the
        MIME type is `text/plain`, there are no special formatting or encoding details
        beyond the simple sentence.","reasoning":"Okay, the user is asking what''s
        in the file named ''ruby.txt'' with the MIME type text/plain. The content
        provided is \"Ruby is the best.\" Let me break this down.\n\nFirst, MIME type
        text/plain indicates it''s a plain text file, so there''s no formatting or
        special characters to worry about. The file name is ruby.txt, which suggests
        it''s a simple text file. The content itself is straightforward: the sentence
        \"Ruby is the best.\" \n\nI need to confirm that there''s no hidden data or
        encoding issues. Since it''s plain text, it''s likely just that sentence.
        The user might be testing if I can read the file content correctly, or they
        might want to know if there''s more to the file. But based on the given information,
        the content is exactly as stated. \n\nI should also consider if there''s any
        context missing. For example, maybe the user is referring to a larger file
        or a specific use case. But with the given data, there''s no indication of
        that. The answer should be direct, stating the content of the file as provided.","reasoning_content":"Okay,
        the user is asking what''s in the file named ''ruby.txt'' with the MIME type
        text/plain. The content provided is \"Ruby is the best.\" Let me break this
        down.\n\nFirst, MIME type text/plain indicates it''s a plain text file, so
        there''s no formatting or special characters to worry about. The file name
        is ruby.txt, which suggests it''s a simple text file. The content itself is
        straightforward: the sentence \"Ruby is the best.\" \n\nI need to confirm
        that there''s no hidden data or encoding issues. Since it''s plain text, it''s
        likely just that sentence. The user might be testing if I can read the file
        content correctly, or they might want to know if there''s more to the file.
        But based on the given information, the content is exactly as stated. \n\nI
        should also consider if there''s any context missing. For example, maybe the
        user is referring to a larger file or a specific use case. But with the given
        data, there''s no indication of that. The answer should be direct, stating
        the content of the file as provided."},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 15:33:11 GMT
      Server:
      - istio-envoy
      Content-Type:
      - application/json; charset=utf-8
      Access-Control-Allow-Origin:
      - ''
      Req-Cost-Time:
      - '35055'
      Req-Arrive-Time:
      - '1770737592094'
      Resp-Start-Time:
      - '1770737627149'
      X-Envoy-Upstream-Service-Time:
      - '35042'
      Vary:
      - Accept-Encoding
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: '{"choices":[{"finish_reason":"stop","index":0,"message":{"role":"assistant","content":"The
        file `ruby.xml` contains an XML document with the following structure:  \n```xml\n<truism>Ruby
        is the best</truism>\n```  \n\n### Key details:  \n- **MIME type**: `application/xml`
        (indicating it''s an XML file).  \n- **Content**: A single `<truism>` element
        with the text **\"Ruby is the best\"** (note: no period at the end compared
        to the plain text file).  \n- **XML structure**: Valid XML syntax with a root
        element (`<truism>`) and its closing tag.  \n\nThis is a simple XML snippet,
        likely used to store structured data or metadata.","reasoning_content":"Okay,
        the user is asking about the contents of another file called ruby.xml. Let
        me check the previous conversation to understand the context. Earlier, they
        had a ruby.txt file with the text \"Ruby is the best.\" Now, this new file
        is an XML file with a <truism> tag containing \"Ruby is the best\".\n\nFirst,
        I need to confirm the MIME type is application/xml, so it''s an XML file.
        The structure is simple: a single <truism> element with the text inside. I
        should explain that the file is an XML document with that specific element.
        Also, note that the text is similar to the previous file but without the period.
        Maybe the user is testing if I can recognize the difference or if there''s
        a typo. I should mention the XML structure, the tag name, and the content.
        Also, since XML is structured, maybe point out that it''s a valid XML snippet.
        The user might be checking if I can parse XML or if they need to extract specific
        data. I should keep the answer straightforward, highlighting the key elements
        and the content."}}],"created":1770737627,"model":"qwen3","system_fingerprint":"b7981-98e57ca42","object":"chat.completion","usage":{"completion_tokens":362,"prompt_tokens":119,"total_tokens":481,"time_to_first_token_ms":35053,"time_per_output_token_ms":0,"tokens_per_second":0},"id":"chatcmpl-jyfEtyjq3MCmDYCGTtRT9kY818zAzxNq","timings":{"cache_n":34,"prompt_n":85,"prompt_ms":1725.094,"prompt_per_token_ms":20.295223529411764,"prompt_per_second":49.272677314975304,"predicted_n":362,"predicted_ms":33293.463,"predicted_per_token_ms":91.97089226519338,"predicted_per_second":10.8730053103818}}'
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
recorded_with: VCR 6.4.0
