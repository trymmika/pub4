---
http_interactions:
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin? (52.5200, 13.4050)"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 15:52:11 GMT
      Server:
      - istio-envoy
      Content-Type:
      - application/json; charset=utf-8
      Access-Control-Allow-Origin:
      - ''
      Req-Cost-Time:
      - '16032'
      Req-Arrive-Time:
      - '1770738731781'
      Resp-Start-Time:
      - '1770738747813'
      X-Envoy-Upstream-Service-Time:
      - '16027'
      Vary:
      - Accept-Encoding
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: '{"choices":[{"finish_reason":"tool_calls","index":0,"message":{"role":"assistant","content":"","reasoning_content":"Okay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user has already
        given those values, so I should format them into the function call correctly.
        I''ll make sure to use the exact numbers they provided and structure the JSON
        properly. No other parameters are needed since the function doesn''t have
        any other required fields. Alright, time to put that into the tool call.","tool_calls":[{"type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}"},"id":"QwCdKSd3VD7xezDS901CeOWlEU9NxbkB"}]}}],"created":1770738747,"model":"qwen3","system_fingerprint":"b7981-98e57ca42","object":"chat.completion","usage":{"completion_tokens":173,"prompt_tokens":231,"total_tokens":404,"tokens_per_second":0,"time_to_first_token_ms":16033,"time_per_output_token_ms":0},"id":"chatcmpl-wsxQfWoYk70Pou8qcarg2tOrrIll3lej","timings":{"cache_n":230,"prompt_n":1,"prompt_ms":76.628,"prompt_per_token_ms":76.628,"prompt_per_second":13.05006003027614,"predicted_n":173,"predicted_ms":15909.581,"predicted_per_token_ms":91.96289595375723,"predicted_per_second":10.873950734466233}}'
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin? (52.5200, 13.4050)"},{"role":"assistant","content":"","tool_calls":[{"id":"QwCdKSd3VD7xezDS901CeOWlEU9NxbkB","type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}"}}],"reasoning":"Okay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user has already
        given those values, so I should format them into the function call correctly.
        I''ll make sure to use the exact numbers they provided and structure the JSON
        properly. No other parameters are needed since the function doesn''t have
        any other required fields. Alright, time to put that into the tool call.","reasoning_content":"Okay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user has already
        given those values, so I should format them into the function call correctly.
        I''ll make sure to use the exact numbers they provided and structure the JSON
        properly. No other parameters are needed since the function doesn''t have
        any other required fields. Alright, time to put that into the tool call."},{"role":"tool","content":"Current
        weather at 52.5200, 13.4050: 15°C, Wind: 10 km/h","tool_call_id":"QwCdKSd3VD7xezDS901CeOWlEU9NxbkB"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 15:52:27 GMT
      Server:
      - istio-envoy
      Content-Type:
      - application/json; charset=utf-8
      Access-Control-Allow-Origin:
      - ''
      Req-Cost-Time:
      - '5400'
      Req-Arrive-Time:
      - '1770738747824'
      Resp-Start-Time:
      - '1770738753224'
      X-Envoy-Upstream-Service-Time:
      - '5389'
      Content-Length:
      - '741'
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJjaG9pY2VzIjpbeyJmaW5pc2hfcmVhc29uIjoic3RvcCIsImluZGV4IjowLCJtZXNzYWdlIjp7InJvbGUiOiJhc3Npc3RhbnQiLCJjb250ZW50IjoiVGhlIGN1cnJlbnQgd2VhdGhlciBpbiBCZXJsaW4gKDUyLjUyMDAsIDEzLjQwNTApIGlzIDE1wrBDIHdpdGggd2luZCBhdCAxMCBrbS9oLiJ9fV0sImNyZWF0ZWQiOjE3NzA3Mzg3NTMsIm1vZGVsIjoicXdlbjMiLCJzeXN0ZW1fZmluZ2VycHJpbnQiOiJiNzk4MS05OGU1N2NhNDIiLCJvYmplY3QiOiJjaGF0LmNvbXBsZXRpb24iLCJ1c2FnZSI6eyJjb21wbGV0aW9uX3Rva2VucyI6NDIsInByb21wdF90b2tlbnMiOjQ0NywidG90YWxfdG9rZW5zIjo0ODksInRpbWVfdG9fZmlyc3RfdG9rZW5fbXMiOjU0MDEsInRpbWVfcGVyX291dHB1dF90b2tlbl9tcyI6MCwidG9rZW5zX3Blcl9zZWNvbmQiOjB9LCJpZCI6ImNoYXRjbXBsLUNLZWhMT3VhSllTWllCakRkb0ltSjgwUm1EYWlwVjloIiwidGltaW5ncyI6eyJjYWNoZV9uIjozODAsInByb21wdF9uIjo2NywicHJvbXB0X21zIjoxNTQ1LjE5NCwicHJvbXB0X3Blcl90b2tlbl9tcyI6MjMuMDYyNTk3MDE0OTI1MzczLCJwcm9tcHRfcGVyX3NlY29uZCI6NDMuMzYwMjUxMjA0NzAzMSwicHJlZGljdGVkX24iOjQyLCJwcmVkaWN0ZWRfbXMiOjM4MjYuNjc1LCJwcmVkaWN0ZWRfcGVyX3Rva2VuX21zIjo5MS4xMTEzMDk1MjM4MDk1MiwicHJlZGljdGVkX3Blcl9zZWNvbmQiOjEwLjk3NTU4NTg1NDU2MDQyMX19
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin? (52.5200, 13.4050)"},{"role":"assistant","content":"","tool_calls":[{"id":"QwCdKSd3VD7xezDS901CeOWlEU9NxbkB","type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}"}}],"reasoning":"Okay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user has already
        given those values, so I should format them into the function call correctly.
        I''ll make sure to use the exact numbers they provided and structure the JSON
        properly. No other parameters are needed since the function doesn''t have
        any other required fields. Alright, time to put that into the tool call.","reasoning_content":"Okay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user has already
        given those values, so I should format them into the function call correctly.
        I''ll make sure to use the exact numbers they provided and structure the JSON
        properly. No other parameters are needed since the function doesn''t have
        any other required fields. Alright, time to put that into the tool call."},{"role":"tool","content":"Current
        weather at 52.5200, 13.4050: 15°C, Wind: 10 km/h","tool_call_id":"QwCdKSd3VD7xezDS901CeOWlEU9NxbkB"},{"role":"assistant","content":"The
        current weather in Berlin (52.5200, 13.4050) is 15°C with wind at 10 km/h."},{"role":"user","content":"What''s
        the weather in Paris? (48.8575, 2.3514)"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 15:52:32 GMT
      Server:
      - istio-envoy
      Content-Type:
      - application/json; charset=utf-8
      Access-Control-Allow-Origin:
      - ''
      Req-Cost-Time:
      - '17421'
      Req-Arrive-Time:
      - '1770738753235'
      Resp-Start-Time:
      - '1770738770656'
      X-Envoy-Upstream-Service-Time:
      - '17417'
      Vary:
      - Accept-Encoding
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: '{"choices":[{"finish_reason":"tool_calls","index":0,"message":{"role":"assistant","content":"","reasoning_content":"Okay,
        the user is asking for the weather in Paris with the coordinates 48.8575 and
        2.3514. I need to check if I have the right function for that. The available
        tool is the weather function which takes latitude and longitude. So I should
        call that function again with the provided coordinates. Let me make sure the
        parameters are correctly formatted as strings. The previous example used the
        same structure, so I''ll follow that. Just need to plug in the new latitude
        and longitude values. Alright, the tool call should be straightforward.","tool_calls":[{"type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"48.8575\",\"longitude\":\"2.3514\"}"},"id":"D22OWfCUMrO51hHBNpucrVm2FAtWkvXN"}]}}],"created":1770738770,"model":"qwen3","system_fingerprint":"b7981-98e57ca42","object":"chat.completion","usage":{"completion_tokens":153,"prompt_tokens":382,"total_tokens":535,"time_to_first_token_ms":17421,"time_per_output_token_ms":0,"tokens_per_second":0},"id":"chatcmpl-8eZz99r5gTGZTA4DMC8KE02WB9jsMo5V","timings":{"cache_n":231,"prompt_n":151,"prompt_ms":3256.194,"prompt_per_token_ms":21.564198675496687,"prompt_per_second":46.373158356043895,"predicted_n":153,"predicted_ms":14117.945,"predicted_per_token_ms":92.27415032679738,"predicted_per_second":10.837271288420519}}'
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin? (52.5200, 13.4050)"},{"role":"assistant","content":"","tool_calls":[{"id":"QwCdKSd3VD7xezDS901CeOWlEU9NxbkB","type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}"}}],"reasoning":"Okay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user has already
        given those values, so I should format them into the function call correctly.
        I''ll make sure to use the exact numbers they provided and structure the JSON
        properly. No other parameters are needed since the function doesn''t have
        any other required fields. Alright, time to put that into the tool call.","reasoning_content":"Okay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user has already
        given those values, so I should format them into the function call correctly.
        I''ll make sure to use the exact numbers they provided and structure the JSON
        properly. No other parameters are needed since the function doesn''t have
        any other required fields. Alright, time to put that into the tool call."},{"role":"tool","content":"Current
        weather at 52.5200, 13.4050: 15°C, Wind: 10 km/h","tool_call_id":"QwCdKSd3VD7xezDS901CeOWlEU9NxbkB"},{"role":"assistant","content":"The
        current weather in Berlin (52.5200, 13.4050) is 15°C with wind at 10 km/h."},{"role":"user","content":"What''s
        the weather in Paris? (48.8575, 2.3514)"},{"role":"assistant","content":"","tool_calls":[{"id":"D22OWfCUMrO51hHBNpucrVm2FAtWkvXN","type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"48.8575\",\"longitude\":\"2.3514\"}"}}],"reasoning":"Okay,
        the user is asking for the weather in Paris with the coordinates 48.8575 and
        2.3514. I need to check if I have the right function for that. The available
        tool is the weather function which takes latitude and longitude. So I should
        call that function again with the provided coordinates. Let me make sure the
        parameters are correctly formatted as strings. The previous example used the
        same structure, so I''ll follow that. Just need to plug in the new latitude
        and longitude values. Alright, the tool call should be straightforward.","reasoning_content":"Okay,
        the user is asking for the weather in Paris with the coordinates 48.8575 and
        2.3514. I need to check if I have the right function for that. The available
        tool is the weather function which takes latitude and longitude. So I should
        call that function again with the provided coordinates. Let me make sure the
        parameters are correctly formatted as strings. The previous example used the
        same structure, so I''ll follow that. Just need to plug in the new latitude
        and longitude values. Alright, the tool call should be straightforward."},{"role":"tool","content":"Current
        weather at 48.8575, 2.3514: 15°C, Wind: 10 km/h","tool_call_id":"D22OWfCUMrO51hHBNpucrVm2FAtWkvXN"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 15:52:50 GMT
      Server:
      - istio-envoy
      Content-Type:
      - application/json; charset=utf-8
      Access-Control-Allow-Origin:
      - ''
      Req-Cost-Time:
      - '5046'
      Req-Arrive-Time:
      - '1770738770665'
      Resp-Start-Time:
      - '1770738775712'
      X-Envoy-Upstream-Service-Time:
      - '5015'
      Content-Length:
      - '737'
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJjaG9pY2VzIjpbeyJmaW5pc2hfcmVhc29uIjoic3RvcCIsImluZGV4IjowLCJtZXNzYWdlIjp7InJvbGUiOiJhc3Npc3RhbnQiLCJjb250ZW50IjoiVGhlIGN1cnJlbnQgd2VhdGhlciBpbiBQYXJpcyAoNDguODU3NSwgMi4zNTE0KSBpcyAxNcKwQyB3aXRoIHdpbmQgYXQgMTAga20vaC4ifX1dLCJjcmVhdGVkIjoxNzcwNzM4Nzc1LCJtb2RlbCI6InF3ZW4zIiwic3lzdGVtX2ZpbmdlcnByaW50IjoiYjc5ODEtOThlNTdjYTQyIiwib2JqZWN0IjoiY2hhdC5jb21wbGV0aW9uIiwidXNhZ2UiOnsiY29tcGxldGlvbl90b2tlbnMiOjQxLCJwcm9tcHRfdG9rZW5zIjo1ODAsInRvdGFsX3Rva2VucyI6NjIxLCJ0aW1lX3RvX2ZpcnN0X3Rva2VuX21zIjo1MDQ3LCJ0aW1lX3Blcl9vdXRwdXRfdG9rZW5fbXMiOjAsInRva2Vuc19wZXJfc2Vjb25kIjowfSwiaWQiOiJjaGF0Y21wbC15TTd0STZqN3FZRUYxMWx1bk1aaFAwaE9CcGxnNnI2NCIsInRpbWluZ3MiOnsiY2FjaGVfbiI6NTM0LCJwcm9tcHRfbiI6NDYsInByb21wdF9tcyI6MTE1Ni4zNzUsInByb21wdF9wZXJfdG9rZW5fbXMiOjI1LjEzODU4Njk1NjUyMTc0LCJwcm9tcHRfcGVyX3NlY29uZCI6MzkuNzc5NDgzMjk5MTAyOCwicHJlZGljdGVkX24iOjQxLCJwcmVkaWN0ZWRfbXMiOjM4NDMuMDMsInByZWRpY3RlZF9wZXJfdG9rZW5fbXMiOjkzLjczMjQzOTAyNDM5MDI1LCJwcmVkaWN0ZWRfcGVyX3NlY29uZCI6MTAuNjY4NjY1MDg5Nzg1OTIzfX0=
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
recorded_with: VCR 6.4.0
