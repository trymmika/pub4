---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/us.amazon.nova-2-lite-v1:0/converse
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"user","content":[{"text":"What''s the weather
        in Berlin? (52.5200, 13.4050)"}]}],"inferenceConfig":{},"toolConfig":{"tools":[{"toolSpec":{"name":"weather","description":"Gets
        current weather for a location","inputSchema":{"json":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}}]}}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      X-Amz-Date:
      - 20260210T092301Z
      X-Amz-Content-Sha256:
      - 30d3018c3e47998784f9a2926cc21ad9050ac6fe3b92cba23950d3eb332108ca
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20260210/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=1c475e7505f94778334f03e70b1fb52f40cf18a50a144c4632e55f8dca35ed7e
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 09:23:02 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '322'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 6c46053c-1352-4a0a-9516-539991d5c1b1
    body:
      encoding: UTF-8
      string: '{"metrics":{"latencyMs":521},"output":{"message":{"content":[{"toolUse":{"input":{"latitude":"52.5200","longitude":"13.4050"},"name":"weather","toolUseId":"tooluse_AauZXNALAfkIpFCaYwF6n4"}}],"role":"assistant"}},"stopReason":"tool_use","usage":{"inputTokens":986,"outputTokens":42,"serverToolUsage":{},"totalTokens":1028}}'
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/us.amazon.nova-2-lite-v1:0/converse
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"user","content":[{"text":"What''s the weather
        in Berlin? (52.5200, 13.4050)"}]},{"role":"assistant","content":[{"toolUse":{"toolUseId":"tooluse_AauZXNALAfkIpFCaYwF6n4","name":"weather","input":{"latitude":"52.5200","longitude":"13.4050"}}}]},{"role":"user","content":[{"toolResult":{"toolUseId":"tooluse_AauZXNALAfkIpFCaYwF6n4","content":[{"text":"Current
        weather at 52.5200, 13.4050: 15Â°C, Wind: 10 km/h"}]}}]}],"inferenceConfig":{},"toolConfig":{"tools":[{"toolSpec":{"name":"weather","description":"Gets
        current weather for a location","inputSchema":{"json":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}}]}}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      X-Amz-Date:
      - 20260210T092303Z
      X-Amz-Content-Sha256:
      - ef1270156b5c389031855227186ba6a5614c37aa37698a7072081ec28942ff04
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20260210/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=a658fa2443d47b56d4592b07f573d2a7c580c4330b227eefaa3962a0ec839aa3
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Feb 2026 09:23:04 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '301'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - '00552148-033e-42f5-bde6-2bf18105c4d9'
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJtZXRyaWNzIjp7ImxhdGVuY3lNcyI6NDM4fSwib3V0cHV0Ijp7Im1lc3NhZ2UiOnsiY29udGVudCI6W3sidGV4dCI6IlRoZSBjdXJyZW50IHdlYXRoZXIgaW4gQmVybGluICg1Mi41MjAwLCAxMy40MDUwKSBpcyAqKjE1wrBDKiogd2l0aCBhIHdpbmQgc3BlZWQgb2YgKioxMCBrbS9oKiouIn1dLCJyb2xlIjoiYXNzaXN0YW50In19LCJzdG9wUmVhc29uIjoiZW5kX3R1cm4iLCJ1c2FnZSI6eyJpbnB1dFRva2VucyI6MTA3OCwib3V0cHV0VG9rZW5zIjozMywic2VydmVyVG9vbFVzYWdlIjp7fSwidG90YWxUb2tlbnMiOjExMTF9fQ==
  recorded_at: Sat, 14 Feb 2026 10:11:31 GMT
recorded_with: VCR 6.4.0
