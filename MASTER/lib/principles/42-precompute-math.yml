---
name: Precompute Expensive Math
description: Trigonometric functions, noise lookups, and complex formulas should
  be computed once and stored in lookup tables. In animation loops, every
  millisecond matters. Precompute sin and cos tables for rotation. Cache noise
  values for texture. Store intermediate results between frames when inputs
  change slowly.
tier: performance
priority: 42
auto_fixable: true
anti_patterns:
  - name: hot_path_trig
    smell: Math.sin and Math.cos called every frame per object
    example: Calculating rotation angle inside nested loop
    fix: Precompute trig tables indexed by angle step
  - name: repeated_noise
    smell: Noise function called with same inputs repeatedly
    example: Simplex noise recalculated for static texture
    fix: Generate noise texture once and sample from it
  - name: redundant_sqrt
    smell: Distance calculated multiple times for same points
    example: sqrt called in collision check and rendering
    fix: Cache distance or use squared distance comparison
