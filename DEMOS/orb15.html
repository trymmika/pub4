<!DOCTYPE html>
<html><head><meta charset="utf-8"><title>Orbiting Dot</title>
<style>
body { margin: 0; height: 100vh; display: grid; place-items: center; background: #111; }
#start { position: fixed; top: 20px; left: 20px; padding: 10px 20px; cursor: pointer; font: 14px system-ui; background: #333; color: #fff; border: none; }
.container { position: relative; width: 300px; height: 300px; }
#orbit { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 200px; height: 200px; border-radius: 50%; border: 1px solid rgba(255,255,255,0.3); }
#dot { position: absolute; width: 20px; height: 20px; border-radius: 50%; background: #fff; transition: all 0.05s linear; }
</style></head><body>
<button id="start">start</button>
<div class="container">
  <div id="orbit"></div>
  <div id="dot"></div>
</div>
<script>
const dot = document.getElementById('dot');
const orbit = document.getElementById('orbit');
let ctx, analyser, data, angle = 0;
document.getElementById('start').onclick = async () => {
  ctx = new AudioContext();
  const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
  const src = ctx.createMediaStreamSource(stream);
  analyser = ctx.createAnalyser();
  analyser.fftSize = 256;
  src.connect(analyser);
  data = new Uint8Array(analyser.frequencyBinCount);
  document.getElementById('start').style.display = 'none';
  animate();
};
function animate() {
  analyser.getByteFrequencyData(data);
  const bass = data.slice(0, 10).reduce((a, b) => a + b, 0) / 2550;
  angle += 0.02 + bass * 0.1;
  const radius = 100 + bass * 30;
  const x = 150 + Math.cos(angle) * radius - 10;
  const y = 150 + Math.sin(angle) * radius - 10;
  const size = 20 + bass * 20;
  dot.style.left = x + 'px';
  dot.style.top = y + 'px';
  dot.style.width = size + 'px';
  dot.style.height = size + 'px';
  orbit.style.width = (radius * 2) + 'px';
  orbit.style.height = (radius * 2) + 'px';
  requestAnimationFrame(animate);
}
</script>
</body></html>
